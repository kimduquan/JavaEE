<html xmlns:h="http://xmlns.jcp.org/jsf/html" xmlns:f="http://xmlns.jcp.org/jsf/core" xmlns:a="http://xmlns.jcp.org/jsf/passthrough" xmlns:jsf="http://xmlns.jcp.org/jsf" xmlns:ui="http://xmlns.jcp.org/jsf/facelets" xmlns:p="http://primefaces.org/ui">
<ui:composition template="../template/blank.xhtml">
	<ui:define name="title"><h:outputText value="#{i18n['epf.webapp.search']}" /></ui:define>
	<ui:define name="head">
		<!-- Custom styles for this page -->
	    <link type="text/css" rel="stylesheet" href="/webapp/resources/startbootstrap-sb-admin-2-gh-pages/vendor/datatables/dataTables.bootstrap4.min.css" />
		<f:metadata><f:viewParam name="text" value="#{epf_search_view.text}" /></f:metadata>
	</ui:define>
	<ui:define name="page-content">
		<!-- Page Heading -->
        <h1 class="h3 mb-2 text-gray-800">Tables</h1>
        <p class="mb-4">DataTables is a third party plugin that is used to generate the demo table below.
            For more information about DataTables, please visit the <a target="_blank"
                href="https://datatables.net">official DataTables documentation</a>.</p>

        <!-- DataTales Example -->
        <div class="card shadow mb-4">
            <div class="card-header py-3">
                <h6 class="m-0 font-weight-bold text-primary">DataTables Example</h6>
            </div>
            <div class="card-body">
                <div class="table-responsive">
                    <p:dataList value="#{epf_search_view.collector}" lazy="true" var="entityValue" styleClass="table table-bordered" style="width: 100%;" paginator="true" rows="10" type="definition">
                    	<f:facet name="description">
                    		<dl>
						        <ui:repeat var="entry" value="#{entityValue.entrySet()}">
						        	<dt><h:outputText value="#{entry.key}"></h:outputText></dt>
						        	<dd jsf:rendered="#{entry.value.valueType == 'STRING' or entry.value.valueType == 'NUMBER' or entry.value.valueType == 'NUMBER' or entry.value.valueType == 'TRUE' or entry.value.valueType == 'FALSE' or entry.value.valueType == 'NULL'}"><h:outputText value="#{epf_search_view.toString(entry.value)}"></h:outputText></dd>
						        	<dd jsf:rendered="#{entry.value.valueType == 'ARRAY'}">
						        		<dl>
							        		<ui:repeat var="item" value="#{epf_search_view.toList(entry.value)}">
							        			<dt jsf:rendered="#{item.valueType == 'STRING' or item.valueType == 'NUMBER' or item.valueType == 'NUMBER' or item.valueType == 'TRUE' or item.valueType == 'FALSE' or item.valueType == 'NULL'}">
							        				<h:outputText value="#{epf_search_view.toString(item)}"></h:outputText>
							        			</dt>
							        			<dt jsf:rendered="#{item.valueType == 'OBJECT'}">
						        				</dt>
						        				<dd jsf:rendered="#{item.valueType == 'OBJECT'}">
						        					<dl>
										        		<ui:repeat var="field" value="#{item.value.asJsonObject().entrySet()}">
									        				<dt><h:outputText value="#{field.key}"></h:outputText></dt>
									        				<dd jsf:rendered="#{field.value.valueType == 'STRING' or field.value.valueType == 'NUMBER' or field.value.valueType == 'NUMBER' or field.value.valueType == 'TRUE' or field.value.valueType == 'FALSE' or field.value.valueType == 'NULL'}">
									        					<h:outputText value="#{epf_search_view.toString(field.value)}"></h:outputText>
									        				</dd>
									        				<dd jsf:rendered="#{field.value.valueType == 'OBJECT'}">
									        				</dd>
										        		</ui:repeat>
									        		</dl>
						        				</dd>
							        		</ui:repeat>
						        		</dl>
						        	</dd>
						        	<dd jsf:rendered="#{entry.value.valueType == 'OBJECT'}">
						        		<dl>
							        		<ui:repeat var="field" value="#{entry.value.asJsonObject().entrySet()}">
						        				<dt><h:outputText value="#{field.key}"></h:outputText></dt>
						        				<dd jsf:rendered="#{field.value.valueType == 'STRING' or field.value.valueType == 'NUMBER' or field.value.valueType == 'NUMBER' or field.value.valueType == 'TRUE' or field.value.valueType == 'FALSE' or field.value.valueType == 'NULL'}">
						        					<h:outputText value="#{epf_search_view.toString(field.value)}"></h:outputText>
						        				</dd>
						        				<dd jsf:rendered="#{field.value.valueType == 'ARRAY'}">
						        					<ui:repeat var="item" value="#{epf_search_view.toList(field.value)}">
									        			<dt jsf:rendered="#{item.valueType == 'STRING' or item.valueType == 'NUMBER' or item.valueType == 'NUMBER' or item.valueType == 'TRUE' or item.valueType == 'FALSE' or item.valueType == 'NULL'}">
									        				<h:outputText value="#{epf_search_view.toString(item)}"></h:outputText>
									        			</dt>
									        			<dt jsf:rendered="#{item.valueType == 'OBJECT'}">
								        				</dt>
								        				<dd jsf:rendered="#{item.valueType == 'OBJECT'}">
								        				</dd>
									        		</ui:repeat>
						        				</dd>
						        				<dd jsf:rendered="#{field.value.valueType == 'OBJECT'}">
						        				</dd>
							        		</ui:repeat>
						        		</dl>
						        	</dd>
						        </ui:repeat>
					        </dl>
					    </f:facet>
                    </p:dataList>
                </div>
            </div>
        </div>
	</ui:define>
	<ui:define name="script">
		<!-- Page level plugins -->
	    <script type="text/javascript" src="/webapp/resources/startbootstrap-sb-admin-2-gh-pages/vendor/datatables/jquery.dataTables.min.js" />
	    <script type="text/javascript" src="/webapp/resources/startbootstrap-sb-admin-2-gh-pages/vendor/datatables/dataTables.bootstrap4.min.js" />
	
	    <!-- Page level custom scripts -->
	    <script type="text/javascript" src="/webapp/resources/startbootstrap-sb-admin-2-gh-pages/js/demo/datatables-demo.js" />
	</ui:define>
</ui:composition>
</html>